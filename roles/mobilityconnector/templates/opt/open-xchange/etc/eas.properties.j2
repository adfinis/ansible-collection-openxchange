{{ ansible_managed | comment }}
# Configuration file for EAS
#
# Unless otherwise specified, the given values also represent the
# default values for the properties.

# -----------------------------------------
# Properties to configure the EAS subsystem
# -----------------------------------------

# Specifies whether to check if a specific user is allowed to use EAS.
# This is done by checking the interfaces/eas-property in the OX ajax
# config for that user.
# Default: true
com.openexchange.usm.eas.access_check=true

# Defines the webserver path under which the EAS servlet registers itself.
# Default: /Microsoft-Server-ActiveSync
com.openexchange.usm.eas.alias=/Microsoft-Server-ActiveSync

# Defines the debug logfile that is generated by the EAS servlet.
# No logfile will be generated if the property is missing or set to
# an empty string.
# Default: (not set)
com.openexchange.usm.eas.debug_log=

# Defines a pattern that is used to map a user login received from an
# EAS client to an OX login.
# This pattern will be used if the EAS client did not provide any domain.
# The text "$USER" in the pattern will be replaced by the user name
# provided by the EAS client.
# Default: $USER
com.openexchange.usm.eas.login_pattern.user_only=$USER

# Defines a pattern that is used to map a user login received from an
# EAS client to an OX login. This pattern will be used if the EAS client
# provided a domain and a user name.
# The text "$USER" in the pattern will be replaced by the user name
# provided by the EAS client.
# The text "$DOMAIN" in the pattern will be replaced by the user name
# provided by the EAS client.
# Default: $USER@$DOMAIN
com.openexchange.usm.eas.login_pattern.domain_user=$USER@$DOMAIN

# Defines a time limit in days to filter out old emails when syncing
# with EAS devices. This limit is always additionally applied,
# regardless of the setting requested by the EAS client, to allow
# server administrators to impose a hard limit on the synchronized
# mails (e.g. to reduce load on the mail servers if users tend to
# store all their mail in the INBOX). A value of 0 is interpreted as no filtering.
# Default: 3
com.openexchange.usm.eas.mail.time_limit={{ mobilityconnector_eas_mail_time_limit }}

# Defines a limit for the maximum number of emails in a folder when
# syncing with EAS devices. If a folder contains more emails than
# specified in the limit, only the newest ones are synchronized.
# This limit is always additionally applied, regardless of the
# setting requested by the EAS client, to allow server
# administrators to impose a hard limit on the synchronized
# mails (e.g. to reduce load on the mail servers if users tend to
# store all their mail in the INBOX). A value of <=0 is interpreted
# as no filtering.
# Default: 600
com.openexchange.usm.eas.mail.limit=600

# Defines how many folders may be watched with a single EAS ping
# request.
# Default: 10000
com.openexchange.usm.eas.ping.max_folders=10000

# Defines a time limit in years to filter out future appointments
# beyond this limit with EAS devices.
# Larger values may increase the load on the backend when syncing
# appointment series.
# Default: 3
com.openexchange.usm.eas.appointments.future.time_limit=3

# Defines in seconds how long the minimum wait time specified by
# an EAS ping command may be. Note that the HTTP connection will
# be kept alive up to that time.
# Default: 30
com.openexchange.usm.eas.ping.min_heartbeat=30

# Defines in seconds how long the maximum wait time specified by
# an EAS ping command may be. Note that the HTTP connection will
# be kept alive up to that time.
#
# NOTE:
# Please take care that configured value is less than the timeout
# specified in associated proxy path in Web Server configuration; e.g.
# " BalancerMember http://oxhost:8009 timeout=1900 smax=0 ttl=60 retry=60 loadfactor=50 route=OX1 "
#                                            ^^^^^
#
# Default: 1800
com.openexchange.usm.eas.ping.max_heartbeat=1800

# This property determines if the USM/EAS should send MeetingRequests
# for those emails that are invitations to appointments sent from the
# local OX server. Some devices (e.g. iPhone) perform automatic
# operations when receiving a MeetingRequest that collides with the
# fact that the OX server creates the appointment before the attendee
# has accepted it. If this property is disabled, the USM/EAS handles
# those invitation mails like normal mails.
# Default: true
com.openexchange.usm.eas.meeting_request_enabled=true

# This property enables a special handling (for special devices, currently
# all non-Nokia) for all appointments to which the current user has been
# invited: The user won't see the appointment directly, instead a special
# invitation mail is generated. The original (optional) invitation mails from
# OX are ignored. The appointment will become visible after a
# MeetingResponse from the client or after the user status has been set
# in the OX server. This behavior is similar to that of MS products.
# If this property is set to false, the emulation is disabled, all appointments
# are reported directly, MeetingRequests are generated from the OX
# invitation mails. Caution: The behavior for the setting "false" may
# lead to problems in clients that expect the MS behavior, mostly to
# duplicate appointment entries.
# Default: true
com.openexchange.usm.eas.meeting_request_emulation_enabled=true

# This property specifies which folders will be visible to and synchronized
# with EAS clients. Currently three different settings are possible:
#
# "default" (or "false"): Only synchronize default folders and all their subfolders
#             This is the original behavior of earlier versions of USM/EAS where this
#             Property was not available.
#
# "email": Synchronize default folders and all email folders below the OX folder
#             "default0" (this setting will also be used if this property is set to
#             an unknown value)
#
# "all" (or "true"): Synchronize the complete OX folder hierarchy
# Default: email
com.openexchange.usm.eas.sync_all_folders={{ mobilityconnector_eas_sync_all_folders }}

# This property specifies if and how owner names of shared folders should be
# prefixed to the folder title when reported to clients:
# - A value of 0 disabled the prefixing completely (i.e. only the folder title is reported).
# - A value < 0 enables prefixing, the title will be prefixed with the user name separated
#   by a dash, the name will be the same as the title of the user folder that is visible in
#   the OX GUI
# - A value > 0 enables limited prefixing. Like normal prefixing, the user name will be
#   added, but it will be truncated if it is longer than the specified value, e.g. 6 -> only
#   5 characters followed by an ellipsis (...) will be displayed
# Default: -1
com.openexchange.usm.eas.shared_folder_user_name_limit=-1

# Defines the max WindowSize for changes on email folders.
# Larger WindowSize sent from client will be ignored.
# Default: 50
com.openexchange.usm.eas.sync_max_email_windowsize=50

# Defines the max WindowSize for changes on contact folders.
# Larger WindowSize sent from client will be ignored.
# Default: 250
com.openexchange.usm.eas.sync_max_contact_windowsize=250

# Specifies if the users are allowed to choose the folders to be synchronized in the OX GUI.
# Default: false
com.openexchange.usm.eas.allow_folder_selection=false

# Defines a check interval in milliseconds that is used to prevent clients with bad behavior to cause too much load
# on the server. If it is set to a value > 0 (and com.openexchange.usm.eas.access_check.max_accesses and
# com.openexchange.usm.eas.access_check.refusal_interval are also set > 0), it specifies an time interval which
# USM checks for unnecessary synchronizations. If within this interval the limit provided in max_accesses is reached,
# all further access from that client is refused for refusal_interval seconds (all requests report a temporary error).
# After the refusal_interval has passed, the check mechanism is reset (regardless of the number of client requests
# that were refused).
# Default: 120000 (2 minutes)
com.openexchange.usm.eas.access_check.test_interval=120000

# Defines a limit for unnecessary synchronizations a client may perform within the test interval to prevent clients with
# bad behavior to cause too much load on the server. If it is set to a value > 0 (and
# com.openexchange.usm.eas.access_check.test_interval and com.openexchange.usm.eas.access_check.refusal_interval
# are also set > 0), it specifies an time interval which USM checks for unnecessary synchronizations. If within this
# interval the limit provided in max_accesses is reached, all further access from that client is refused for refusal_interval
# seconds (all requests report a temporary error).
# After the refusal_interval has passed, the check mechanism is reset (regardless of the number of client requests
# that were refused).
# Default: 80
com.openexchange.usm.eas.access_check.max_accesses=80

# Defines for how long a client is refused access to USM if it shows bad behavior to prohibit it to cause too much load
# on the server. If it is set to a value > 0 (and com.openexchange.usm.eas.access_check.test_interval and
# com.openexchange.usm.eas.access_check.refusal_interval are also set > 0), it specifies an time interval which
# USM checks for unnecessary synchronizations. If within this interval the limit provided in max_accesses is reached,
# all further access from that client is refused for refusal_interval seconds (all requests report a temporary error).
# After the refusal_interval has passed, the check mechanism is reset (regardless of the number of client requests
# that were refused).
# Default: 900000 (15 minutes)
com.openexchange.usm.eas.access_check.refusal_interval=900000

# Defines the max number of collections that can be synchronized in one sync request.
# Smaller values may decrease the temporary memory usage per EAS Sync request in USM
# Some client implementations require a value > 1.
# Default: 3
com.openexchange.usm.eas.sync_max_collections=3

#Forbid the following userAgents (separated with comma)
#Please include the data as it is included in the request from client.
#Example: "POST /Microsoft-Server-ActiveSync?User=<username>&DeviceId=1906F897D5F391560A97F688EBB650FB&DeviceType=WindowsMail&Cmd=FolderSync HTTP/1.1" 200 423 "-" "WindowsMail/17.5.9600.20498"
#Example: UserAgent is the part: WindowsMail/17.5.9600.20498
com.openexchange.usm.eas.exclude.userAgent=

#Forbid the following device IDs (separated with comma)
#Please include the data as it is included in the request from client.
#Example: "POST /Microsoft-Server-ActiveSync?User=<username>&DeviceId=1906F897D5F391560A97F688EBB650FB&DeviceType=WindowsMail&Cmd=FolderSync HTTP/1.1" 200 423 "-" "WindowsMail/17.5.9600.20498"
com.openexchange.usm.eas.exclude.deviceID=

#Forbid the following device Types (separated with comma)
#Please include the data as it is included in the request from client.
#Example: "POST /Microsoft-Server-ActiveSync?User=<username>&DeviceId=1906F897D5F391560A97F688EBB650FB&DeviceType=WindowsMail&Cmd=FolderSync HTTP/1.1" 200 423 "-" "WindowsMail/17.5.9600.20498"
com.openexchange.usm.eas.exclude.deviceType=

# Defines the maximum email size to be synced.
# Larger emails will not be delivered to the client in mime format (only in text/html format which are in general smaller than this limit).
# Default: 20MB (20971520)
com.openexchange.usm.eas.sync_max_email_size=20971520
